{% extends 'base.html' %}

{% block content %}
	
	{% import 'post_block.html' as temp %}
	{% import 'assignment_block.html' as block %}

	{{ temp.assignment(assign) }}

	<h3 class="all">
		<a href="{{ url_for('assignResults',assign_id=assign.id) }}">Previous Submissions</a>
	</h3>

	{% if user.admin %}
		
		<a class="all" href="{{ url_for('editAssign',assign_id=assign.id) }}">edit</a>
		<h3 class="all">Tests:</h3>
		<ul>
			{% for t in tests %}
			<li>
				<a href="{{ url_for('testView',test_id=t.id) }}">{{t.name}}</a>
			</li>
			{% endfor %}
		</ul>
		<h3 class="all">Add Test File:</h3>
		<form method="POST" action="{{ url_for('addTest',assign_id=assign.id) }}">
			<p>
			Test Name:
			<input type="text" name="title">
			</p>
			<div class="code">
				public class {{assign.name}}{<br>
				&emsp;public static void main(String[] args){<br>
				&emsp;<textarea class="code-textbox" name="test_code" rows="15" cols="55"></textarea><br>
				&emsp;}<br>
				}
			</div>
			<input type="submit" value="add test">
		</form>
		
		<hr class="all">
		
		<form class="half text-right" action="{{ url_for('deleteAssign', assign_id=assign.id) }}">
			<input type="submit" value="delete assignment">
		</form>

	{% else %}
		{% if assign.int_type == 0 %}
			{{ block.main_method(assign) }}
		{% elif assign.int_type == 1 %}
			{{ block.static_method(assign) }}
		{% elif assign.int_type == 2 %}
			{{ block.public_class(assign) }}
		{% endif %}
		
	{% endif %}
	

{% endblock %}










